#include <stdio.h>
#include <malloc.h>
#define LEN sizeof(struct Student)//定义结构体变量的大小为符号常量LEN 
struct Student{
	int ID;//学号 
	char name[20];//姓名 
	float height;//身高 
	float weight;//体重
	float BMI;//BMI指数，录入时不需要计算 
	struct Student *next;//指向下一个结构体 
};
struct Student *input();//输入函数 
void output(struct Student * head);//输出函数 
int main()
{
	output(input());
	return 0;	
} 
struct Student * input()
{
	struct Student *p1,*p2,*head=NULL;
	printf("************************动态链表实验***********************\n【输入动态链表】\n");
	printf("请依次输入学号	姓名  身高(cm)  体重(kg)（用空格间隔，学号输入0结束）:\n");
	p2=p1=(struct Student *)malloc(LEN);//开辟内存 
	scanf("%d %s %f %f",&p1->ID,&p1->name,&p1->height,&p1->weight);
	if(p1->ID==0)return(NULL);
	else head=p1;
	while(p1->ID!=0)
	{
		p2->next=p1;
		p2=p1;
		p1=(struct Student *)malloc(LEN);//开辟内存 
		scanf("%d %s %f %f",&p1->ID,&p1->name,&p1->height,&p1->weight);
	}
	p2->next=NULL;
	return(head);//返回链表头指针 
}
void output(struct Student *head)
{
	struct Student *p;
	p=head;//将头指针地址传给p 
	printf("【输出动态链表】\n");
	printf("|学号\t\t|姓名\t|身高\t|体重\t|BMI\n");
	while(p!=NULL)
	{
		p->BMI=(float)p->weight/(p->height/100)/(p->height/100);//求BMI指数 
		printf("|%08d\t|%s\t|%5.2f\t|%5.2f\t|%lf\n",p->ID,p->name,p->height,p->weight,p->BMI);
		p=p->next;
	}
}

 
